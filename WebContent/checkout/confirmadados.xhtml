<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<meta charset="UTF-8" />
<h:head>
	<title>Gar√ßom online</title>
</h:head>
<h:body>
	<ui:composition template="/_layoutNoSide.xhtml">
 		<ui:define name="content">
 			<h:form>
 				<div class="card">
					<div class="card-body">
						<h4 class="card-title">Checkout - Confirme seus produtos</h4>
						<h:dataTable  value="#{carrinhoBean.retornaList}" var="carrinho"
							styleClass="table">
							<h:column>
								<f:facet name="header">Produto</f:facet>
								<h:outputText value="#{carrinhoBean.buscaNomeProduto(carrinho.idProduto, carrinho.idEstabelecimento)}" /><br />
								<small>(<h:outputText value="#{carrinhoBean.buscarNomeEstabelecimento(carrinho.idEstabelecimento)}" />)</small>
							</h:column>
							<h:column>
								<f:facet name="header">Qtde</f:facet>
								<h:outputText value="#{carrinho.qtdeproduto}" />
							</h:column>
							<h:column>
								<f:facet name="header">Valor</f:facet>
								<h:outputText value="#{carrinhoBean.buscaValorProduto(carrinho.idProduto, carrinho.idEstabelecimento, carrinho.qtdeproduto)}" />
							</h:column>
						</h:dataTable>
						<ul class="list-group list-flush">
							<li class="list-group-item">Total: <h:outputText
									value="#{carrinhoBean.retornaTotal()}">
									<f:convertNumber type="currency" currencySymbol="R$" />
								</h:outputText>
							</li>
							<li class="list-group-item">
								<h:commandButton action="#{carrinhoBean.finalizarPedido()}" value="Finalizar pedido" styleClass="btn btn-success" />
							</li>
						</ul>
					</div>
 				</div>
 				<div class="card">
 					<div class="card-body">
 						<h:commandLink action="/index.xhtml" value="voltar" />
 					</div>
 				</div>
 			</h:form>
 		</ui:define>
 	</ui:composition>
 </h:body>
 </html>